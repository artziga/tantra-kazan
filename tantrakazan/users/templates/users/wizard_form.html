{% extends "main/base.html" %}
{% load i18n %}
{% load static %}

{% block head %}
{{ wizard.form.media }}
{% endblock %}


{% block content %}
<title>{{ title }}</title>
        <div class="main-content-wrapper">
            <div class="page-content-inner pt--75 pb--80">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-lg-6">
                            <h2 class="mb--40">
                              {{ title }}
                            </h2>
                              <form class="form form--track" method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                {{ wizard.management_form }}
                                {{ form.media }}
                                <ol class="steps">
                                  {% for step in steps %}
                                    {% if forloop.counter0 < wizard.steps.step0 %}
                                      <li class="step is-complete" data-step="{{forloop.counter}}">
                                    {% elif forloop.counter0 == wizard.steps.step0 %}
                                      <li class="step is-active" data-step="{{forloop.counter}}">
                                    {% else %}
                                      <li class="step" data-step="{{forloop.counter}}">
                                    {% endif %}
                                    {{ step }}
                                  </li>
                                  {% endfor %}
                                </ol>
                                {{form.non_field_errors}}

                                {% for field in form %}
                                  <div class="form__group mb--20">
                                      <label class="form__label">{{ field.label_tag }}</label>
                                    {{ field }}
                                    {% if field.errors %}
                                      <ul class="errorlist">
                                        {% for error in field.errors %}
                                          <li>{{ error }}</li>
                                        {% endfor %}
                                      </ul>
                                    {% endif %}
                                      </div>
                                {% endfor %}

                                {% if wizard.steps.prev %}
                                  <button class="btn btn-size-sm" name="wizard_goto_step" type="submit" value="{{ wizard.steps.prev }}">Назад</button>
                                {% endif %}
                                {% if wizard.steps.current == wizard.steps.last %}
                                  <button class="btn btn-size-sm" type="submit">Отправить</button>
                                {% else %}
                                  <button class="btn btn-size-sm" type="submit">Далее</button>
                                {% endif %}
                              </form>
                        </div>
                    </div>
                 </div>
            </div>
        </div>
<script>
  // Настройка автодополнения адресов
  ymaps.ready(function () {
    var addressInput = new ymaps.SuggestView('addressInput');
  });
</script>
<!-- end contact section -->
{% endblock content %}
